{% load i18n %}

<h3>{% trans "Pasajeros" %}</h3>
<table class="table">
    <tbody>
    {% for passenger in passengers %}
        <td>
            {{ passenger.user.get_full_name }} <br />
            <small>{% trans "Unido el" %} {{ passenger.created }}</small>
        </td>
        {% if request.user == journey.driver and request.user == journey.user %}
            {% if passenger.status == CONFIRMED %}
                <td>
                    <form method="post" action="{% url "journeys:throw-out" passenger.pk %}">
                        {% csrf_token %}
                        <input type="hidden" name="return_to" value="{{ request.path }}">
                        <button type="submit" class="btn btn-danger">{% trans "Expulsar" %}</button>
                    </form>
                </td>
            {% else %}
                <td>
                    <form method="post" action="{% url "journeys:confirm" passenger.pk %}">
                        {% csrf_token %}
                        <input type="hidden" name="return_to" value="{{ request.path }}">
                        <input type="hidden" name="user" value="{{ passenger.user.pk }}">
                        <button type="submit" class="btn btn-success">{% trans "Confirmar" %}</button>
                    </form>
                </td>
                <td>
                    <form method="post" action="{% url "journeys:reject" passenger.pk %}">
                        {% csrf_token %}
                        <input type="hidden" name="return_to" value="{{ request.path }}">
                        <input type="hidden" name="user" value="{{ passenger.user.pk }}">
                        <button type="submit" class="btn btn-danger">{% trans "Rechazar" %}</button>
                    </form>
                </td>
            {% endif %}
        {% endif %}
    {% endfor %}
    </tbody>
</table>
